### 8 tables

1. users

```sql
CREATE TABLE users(
  id SERIAL PRIMARY KEY,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
  email VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(500) NOT NULL,
  role VARCHAR(20) DEFAULT 'student',
  name VARCHAR(40) NOT NULL,
  bio VARCHAR(400),
  avatar VARCHAR(200)
);
```

#

2. pendingRoles

```sql
CREATE TABLE pendingRoles(
   id SERIAL PRIMARY KEY,
   created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
   name VARCHAR(40) NOT NULL,
   email VARCHAR(255) UNIQUE NOT NULL,
   password VARCHAR(500) NOT NULL,
   appliedRole varchar(20)
);
```

#

3. courses

```sql
CREATE TABLE courses(
   id SERIAL PRIMARY KEY,
   created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	 updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
   teacher_id INTEGER NOT NULL REFERENCES users(id) ON DELETE SET NULL,
   name VARCHAR(100) NOT NULL,
   description VARCHAR(1000),
   thumbnail VARCHAR(200) NOT NULL
);
```

#

4.  coursesVideos

```sql
CREATE TABLE courseVideos(
   id SERIAL PRIMARY KEY,
   created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	 updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
   course_id INTEGER NOT NULL REFERENCES courses(id) ON DELETE CASCADE,
   name VARCHAR(100) NOT NULL,
   description VARCHAR(1000),
   thumbnail VARCHAR(200) NOT NULL,
   url VARCHAR(2048) NOT NULL
);
```

#

5.  pendingCourseVideo

```sql
CREATE TABLE pendingCourseVideo(
  id SERIAL PRIMARY KEY,
	created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	name VARCHAR(100),
	description VARCHAR(1000),
	course_id INTEGER,
	url VARCHAR(100)
);
```

#

6. ratings

```sql
CREATE TABLE ratings(
  id SERIAL PRIMARY KEY,
	created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	course_id INTEGER REFERENCES courses(id) ON DELETE CASCADE,
	user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
  rating INTEGER,
	UNIQUE(course_id, user_id)
);
```

#

7. comments

```sql
CREATE TABLE comments(
   id SERIAL PRIMARY KEY,
   created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	 updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
   user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
   video_id INTEGER REFERENCES courseVideos(id) ON DELETE CASCADE,
   content VARCHAR(1000)
);
```

8. reviews

```sql
CREATE TABLE reviews(
  id SERIAL PRIMARY KEY,
	created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	course_id INTEGER REFERENCES courses(id) ON DELETE CASCADE,
	user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
	content VARCHAR(500),
	UNIQUE(course_id, user_id)
);
```
