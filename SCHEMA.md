### 7 tables

1. users

```sql
CREATE TABLE users(
	id SERIAL PRIMARY KEY,
	created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	email VARCHAR(50) NOT NULL UNIQUE,
	password VARCHAR(500) NOT NULL,
	role VARCHAR(20) DEFAULT 'student',
	name VARCHAR(50) NOT NULL,
	bio VARCHAR(400),
	avatar VARCHAR(200)
)
```

#

2. pending_roles

```sql
CREATE TABLE pending_roles(
	id SERIAL PRIMARY KEY,
	created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	email VARCHAR(50) NOT NULL UNIQUE,
	password VARCHAR(500) NOT NULL,
	role VARCHAR(20) NOT NUL,
	name VARCHAR(50) NOT NULL,
)
```

#

3. courses

```sql
CREATE TABLE courses(
	id SERIAL PRIMARY KEY,
	created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	teacher_id INTEGER NOT NULL REFERENCES users(id) ON DELETE SET NULL,
	name VARCHAR(100) NOT NULL,
	description VARCHAR(1000)
)
```

#

4.  courses_videos

```sql
CREATE TABLE courses_videos(
 id SERIAL PRIMARY KEY,
	created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	course_id INTEGER NOT NULL REFERENCES courses(id) ON DELETE CASCADE,
	url VARCHAR(200) NOT NULL
)
```

#

5.  pending_course_video

```sql
CREATE TABLE pending_course_video(
	id SERIAL PRIMARY KEY,
	created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	name VARCHAR(100),
	description VARCHAR(1000),
	course_id INTEGER,
	url VARCHAR(100)
)
```

#

6. ratings

```sql
CREATE TABLE ratings(
	id SERIAL PRIMARY KEY,
	created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	course_id INTEGER REFERENCES courses(id) ON DELETE CASCADE,
	user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
  rating INTEGER,
	UNIQUE(course_id, user_id)
);
```

#

7. comments

```sql
CREATE TABLE comments(
	id SERIAL PRIMARY KEY,
	created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
	course_id INTEGER REFERENCES courses(id) ON DELETE CASCADE,
	user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
	content VARCHAR(500),
	UNIQUE(course_id, user_id)
);
```
